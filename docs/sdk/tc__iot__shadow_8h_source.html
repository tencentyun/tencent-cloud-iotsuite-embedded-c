<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tencent-cloud-iotsuite-embedded-c: include/iotsuite/tc_iot_shadow.h 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tencent-cloud-iotsuite-embedded-c
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">SDK/document</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="annotated.html"><span>结构体</span></a></li>
      <li class="current"><a href="files.html"><span>文件</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>文件列表</span></a></li>
      <li><a href="globals.html"><span>全局定义</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_0d3828895224ab6d23844886dc9f942e.html">iotsuite</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">tc_iot_shadow.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="tc__iot__shadow_8h.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef TC_IOT_SHADOW_H</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define TC_IOT_SHADOW_H</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#a10038a9134368edf6bb9d34f3777ca5b">    4</a></span>&#160;<span class="preprocessor">#define TC_IOT_MAX_PROPERTY_COUNT   128</span></div><div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#aeaf11240d51703e729479981eb6abc98">    5</a></span>&#160;<span class="preprocessor">#define TC_IOT_MAX_FIRM_INFO_COUNT  5</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#af30863b8a7f2a2737384a199828e1871">    7</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#af30863b8a7f2a2737384a199828e1871">tc_iot_shadow_number</a>;</div><div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#a9f3cbc1c0153067b82a801e719b76c98">    8</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a9f3cbc1c0153067b82a801e719b76c98">tc_iot_shadow_enum</a>;</div><div class="line"><a name="l00009"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#af8ca40cb14122745d5296803ab439dc2">    9</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">bool</span> <a class="code" href="tc__iot__shadow_8h.html#af8ca40cb14122745d5296803ab439dc2">tc_iot_shadow_bool</a>;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1df">   11</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1df">_tc_iot_shadow_data_type_e</a> {</div><div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfa0257cc6936827400b3a35666c15917ca">   12</a></span>&#160;    <a class="code" href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfa0257cc6936827400b3a35666c15917ca">TC_IOT_SHADOW_TYPE_INVALID</a> = 0,</div><div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfadced4d8e532ba4e097a983cfbb7652d8">   13</a></span>&#160;    <a class="code" href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfadced4d8e532ba4e097a983cfbb7652d8">TC_IOT_SHADOW_TYPE_BOOL</a> = 1,</div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfab0813d173069c215486cb17bb199fc53">   14</a></span>&#160;    <a class="code" href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfab0813d173069c215486cb17bb199fc53">TC_IOT_SHADOW_TYPE_NUMBER</a> = 2,</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfa5f0ddbc356d2578286a93e7fde414426">   15</a></span>&#160;    <a class="code" href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfa5f0ddbc356d2578286a93e7fde414426">TC_IOT_SHADOW_TYPE_ENUM</a> = 3,</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;} <a class="code" href="tc__iot__shadow_8h.html#afd32bc980a0344268f1aea22166eae75">tc_iot_shadow_data_type_e</a>;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__property__def.html">   18</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tc__iot__shadow__property__def.html">_tc_iot_shadow_property_def</a> {</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__property__def.html#aa8341791b61a66eb1d87895b2bcaa57b">   19</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="struct__tc__iot__shadow__property__def.html#aa8341791b61a66eb1d87895b2bcaa57b">name</a>;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__property__def.html#a09bdd1ab9615dcb662e9e77265fe93d0">   20</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct__tc__iot__shadow__property__def.html#a09bdd1ab9615dcb662e9e77265fe93d0">id</a>;</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__property__def.html#a0af0203db2f26ef35fcf18476bd4ba8b">   21</a></span>&#160;    <a class="code" href="tc__iot__shadow_8h.html#afd32bc980a0344268f1aea22166eae75">tc_iot_shadow_data_type_e</a>  <a class="code" href="struct__tc__iot__shadow__property__def.html#a0af0203db2f26ef35fcf18476bd4ba8b">type</a>;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__property__def.html#a3cb2b90cfac0166151a10eda38f92057">   22</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct__tc__iot__shadow__property__def.html#a3cb2b90cfac0166151a10eda38f92057">offset</a>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;} <a class="code" href="tc__iot__shadow_8h.html#ad196579026e904f1554533e10f67e3e6">tc_iot_shadow_property_def</a>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html">   29</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tc__iot__shadow__config.html">_tc_iot_shadow_config</a> {</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html#ad6105cbe556d04ce5994f33bba729104">   30</a></span>&#160;    <a class="code" href="struct__tc__iot__mqtt__client__config.html">tc_iot_mqtt_client_config</a> <a class="code" href="struct__tc__iot__shadow__config.html#ad6105cbe556d04ce5994f33bba729104">mqtt_client_config</a>;  </div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html#a5273df2ae5227562a8edadd19b54d752">   31</a></span>&#160;    <span class="keywordtype">char</span> sub_topic[<a class="code" href="tc__iot__config_8h.html#a4628381046de3d9e16d9a27b627eda73">TC_IOT_MAX_MQTT_TOPIC_LEN</a>]; </div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html#a1bbecf4d6fad84b400d0446c0b7c93ce">   32</a></span>&#160;    <span class="keywordtype">char</span> pub_topic[<a class="code" href="tc__iot__config_8h.html#a4628381046de3d9e16d9a27b627eda73">TC_IOT_MAX_MQTT_TOPIC_LEN</a>];  </div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html#ae03933c4ff91ba0141da18e4bb07c209">   33</a></span>&#160;    <a class="code" href="tc__iot__mqtt_8h.html#adc1265ae64dab46c36579d229d0eb11a">message_handler</a> <a class="code" href="struct__tc__iot__shadow__config.html#ae03933c4ff91ba0141da18e4bb07c209">on_receive_msg</a>; </div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html#a69d589c7d5bb6f4bb3e0e07ad4adf64a">   34</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct__tc__iot__shadow__config.html#a69d589c7d5bb6f4bb3e0e07ad4adf64a">property_total</a>;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html#a30513eebf36377884ae51de2e62719c5">   35</a></span>&#160;    <a class="code" href="struct__tc__iot__shadow__property__def.html">tc_iot_shadow_property_def</a> * <a class="code" href="struct__tc__iot__shadow__config.html#a30513eebf36377884ae51de2e62719c5">properties</a>;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html#aa40b4b1e152f72a3a7a1032532c97d85">   36</a></span>&#160;    <a class="code" href="tc__iot__const_8h.html#a547039c0f365d991e39fc16d143b2cbd">tc_iot_event_handler</a> <a class="code" href="struct__tc__iot__shadow__config.html#aa40b4b1e152f72a3a7a1032532c97d85">event_notify</a>;</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html#a5656b3dcf961f7fd5f4ce3305f9cf960">   37</a></span>&#160;    <span class="keywordtype">void</span> * <a class="code" href="struct__tc__iot__shadow__config.html#a5656b3dcf961f7fd5f4ce3305f9cf960">p_current_device_data</a>;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html#aa1ec2ba96a33bf4cbb4670e98e7660c0">   38</a></span>&#160;    <span class="keywordtype">void</span> * <a class="code" href="struct__tc__iot__shadow__config.html#aa1ec2ba96a33bf4cbb4670e98e7660c0">p_reported_device_data</a>;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__config.html#af504e906f279fdffc058d2910cbed50c">   39</a></span>&#160;    <span class="keywordtype">void</span> * <a class="code" href="struct__tc__iot__shadow__config.html#af504e906f279fdffc058d2910cbed50c">p_desired_device_data</a>;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;} <a class="code" href="tc__iot__shadow_8h.html#a83a16bc5fc5ae019a28afe92e77a9b43">tc_iot_shadow_config</a>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#acfeee5865fa73359d0bed9fe872bfac9">   42</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="tc__iot__shadow_8h.html#acfeee5865fa73359d0bed9fe872bfac9">_tc_iot_command_ack_status_e</a> {</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#acfeee5865fa73359d0bed9fe872bfac9a8eca140d55528ba9ff4f6948ed8397c8">   43</a></span>&#160;    <a class="code" href="tc__iot__shadow_8h.html#acfeee5865fa73359d0bed9fe872bfac9a8eca140d55528ba9ff4f6948ed8397c8">TC_IOT_ACK_SUCCESS</a>,</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#acfeee5865fa73359d0bed9fe872bfac9a5a16f030ed148607cdaccf9bd4ac937c">   44</a></span>&#160;    <a class="code" href="tc__iot__shadow_8h.html#acfeee5865fa73359d0bed9fe872bfac9a5a16f030ed148607cdaccf9bd4ac937c">TC_IOT_ACK_TIMEOUT</a>,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;} <a class="code" href="tc__iot__shadow_8h.html#a4d31b2454a8541d0f3fa8613315837f7">tc_iot_command_ack_status_e</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#a4fb08f88375041799f4b7054baa9f3f0">   47</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="tc__iot__shadow_8h.html#a4fb08f88375041799f4b7054baa9f3f0">message_ack_handler</a>)(<a class="code" href="tc__iot__shadow_8h.html#a4d31b2454a8541d0f3fa8613315837f7">tc_iot_command_ack_status_e</a> ack_status, <a class="code" href="struct__tc__iot__message__data.html">tc_iot_message_data</a> * md , <span class="keywordtype">void</span> * session_context);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#a11879c96b587d9a33e88eaf4df1e1fcc">   50</a></span>&#160;<span class="preprocessor">#define TC_IOT_SESSION_ID_LEN     8</span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#a1946bf5c5aafe5e951d6ba01280f7f14">   51</a></span>&#160;<span class="preprocessor">#define TC_IOT_MAX_SESSION_COUNT  3</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__session.html">   53</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tc__iot__shadow__session.html">_tc_iot_shadow_session</a>{</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__session.html#a1d8c5c4857ccc11efd5d1fed3ccf045e">   54</a></span>&#160;    <span class="keywordtype">char</span> sid[<a class="code" href="tc__iot__shadow_8h.html#a11879c96b587d9a33e88eaf4df1e1fcc">TC_IOT_SESSION_ID_LEN</a>+1];</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__session.html#a75b111b6cccd06d4552733682ac0faef">   55</a></span>&#160;    <a class="code" href="structtc__iot__timer.html">tc_iot_timer</a>        <a class="code" href="struct__tc__iot__shadow__session.html#a75b111b6cccd06d4552733682ac0faef">timer</a>;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__session.html#a7a6f47a02afa76ddbd8a26f85244f1d7">   56</a></span>&#160;    <a class="code" href="tc__iot__shadow_8h.html#a4fb08f88375041799f4b7054baa9f3f0">message_ack_handler</a> <a class="code" href="struct__tc__iot__shadow__session.html#a7a6f47a02afa76ddbd8a26f85244f1d7">handler</a>;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__session.html#aa8c99d539768b1ba1b23173f53eb854e">   57</a></span>&#160;    <span class="keywordtype">void</span> * <a class="code" href="struct__tc__iot__shadow__session.html#aa8c99d539768b1ba1b23173f53eb854e">session_context</a>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}<a class="code" href="tc__iot__shadow_8h.html#a807a86632af0db9d89c1c9d19ed19f98">tc_iot_shadow_session</a>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__client.html">   64</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tc__iot__shadow__client.html">_tc_iot_shadow_client</a> {</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__client.html#a0b3c6bdcb058a5980a0445e3d334d5dd">   65</a></span>&#160;    <a class="code" href="struct__tc__iot__shadow__config.html">tc_iot_shadow_config</a>* <a class="code" href="struct__tc__iot__shadow__client.html#a0b3c6bdcb058a5980a0445e3d334d5dd">p_shadow_config</a>; </div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__client.html#a0c23ec93eb9f4bc13f8d821effcf3d8a">   66</a></span>&#160;    <a class="code" href="struct__tc__iot__mqtt__client.html">tc_iot_mqtt_client</a> <a class="code" href="struct__tc__iot__shadow__client.html#a0c23ec93eb9f4bc13f8d821effcf3d8a">mqtt_client</a>; </div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__client.html#ac0c4c451da8eeb3dce36a8ebb951e10d">   67</a></span>&#160;    <a class="code" href="struct__tc__iot__shadow__session.html">tc_iot_shadow_session</a> sessions[<a class="code" href="tc__iot__shadow_8h.html#a1946bf5c5aafe5e951d6ba01280f7f14">TC_IOT_MAX_SESSION_COUNT</a>];</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__client.html#ab3f138d6c98583c015de5cffe9b88280">   68</a></span>&#160;    <span class="keywordtype">char</span> desired_bits[(<a class="code" href="tc__iot__shadow_8h.html#a10038a9134368edf6bb9d34f3777ca5b">TC_IOT_MAX_PROPERTY_COUNT</a>/8)+1];</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct__tc__iot__shadow__client.html#a0dae86cc160836ee4479118a86f549d6">   69</a></span>&#160;    <span class="keywordtype">char</span> reported_bits[(<a class="code" href="tc__iot__shadow_8h.html#a10038a9134368edf6bb9d34f3777ca5b">TC_IOT_MAX_PROPERTY_COUNT</a>/8)+1];</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;} <a class="code" href="tc__iot__shadow_8h.html#acd4137023aa1d1059b75fc2a31bb92c6">tc_iot_shadow_client</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a2fdb84d6d80406e1e000d36c4929deb1">tc_iot_shadow_doc_pack_for_get</a>(<span class="keywordtype">char</span> * buffer, <span class="keywordtype">int</span> buffer_len, <a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#abecbf2e085de83f5d3e1ab43b9fe1124">tc_iot_shadow_doc_pack_for_update</a>(<span class="keywordtype">char</span> * buffer, <span class="keywordtype">int</span> buffer_len, <a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c, <span class="keyword">const</span> <span class="keywordtype">char</span> * reported, <span class="keyword">const</span> <span class="keywordtype">char</span> * desired);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#ace0920527c08ac4bd1afc40902b639b1">tc_iot_shadow_doc_pack_for_delete</a>(<span class="keywordtype">char</span> * buffer, <span class="keywordtype">int</span> buffer_len, <a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c, <span class="keyword">const</span> <span class="keywordtype">char</span> * reported, <span class="keyword">const</span> <span class="keywordtype">char</span> * desired);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/*--- begin 影子设备请求响应包 method 字段取值----*/</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">/* 请求类 */</span></div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#a536a09fa1672f35d9522c87adde522e9">  117</a></span>&#160;<span class="preprocessor">#define TC_IOT_MQTT_METHOD_GET       &quot;get&quot;</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#ad090632690b75a4b931a8461618adbff">  122</a></span>&#160;<span class="preprocessor">#define TC_IOT_MQTT_METHOD_UPDATE    &quot;update&quot;</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#abf6de098f02382b07e0236b749ac241b">  128</a></span>&#160;<span class="preprocessor">#define TC_IOT_MQTT_METHOD_DELETE    &quot;delete&quot;</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#a5852c9c78990a785d07b92f3f1ba39d9">  133</a></span>&#160;<span class="preprocessor">#define TC_IOT_MQTT_METHOD_CONTROL   &quot;control&quot;</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#a9160123bdcc669ddf6d236f854a26ddb">  138</a></span>&#160;<span class="preprocessor">#define TC_IOT_MQTT_METHOD_UPDATE_FIRM    &quot;update_firm_info&quot;</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#a43fa2c4d6356ac753eb4ff6f8505bc72">  142</a></span>&#160;<span class="preprocessor">#define TC_IOT_MQTT_METHOD_REPORT_FIRM   &quot;report_firm_info&quot;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">/* 响应类 */</span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="tc__iot__shadow_8h.html#a136d418a075928b73267f9bd5af80bd3">  145</a></span>&#160;<span class="preprocessor">#define TC_IOT_MQTT_METHOD_REPLY     &quot;reply&quot;</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">/*--- end 影子设备请求响应包 method 字段取值----*/</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#af1417b96ca0cac6690b7bbb9675e38e7">tc_iot_shadow_construct</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * p_shadow_client,</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                            <a class="code" href="struct__tc__iot__shadow__config.html">tc_iot_shadow_config</a> *p_config);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tc__iot__shadow_8h.html#a9757496b3a760b51f90c6f016d0775d5">tc_iot_shadow_destroy</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *p_shadow_client);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="keywordtype">char</span> <a class="code" href="tc__iot__shadow_8h.html#a7a5c790b1b663fe048019dbb65ed93a2">tc_iot_shadow_isconnected</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *p_shadow_client);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#abeaa44d1454f9c9cde5f43fc3576412e">tc_iot_shadow_yield</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *p_shadow_client, <span class="keywordtype">int</span> timeout_ms);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#af3e8a1e44ca17e06a3138ae47d414cf9">tc_iot_shadow_get</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c, <span class="keywordtype">char</span> * buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;         <a class="code" href="tc__iot__shadow_8h.html#a4fb08f88375041799f4b7054baa9f3f0">message_ack_handler</a> callback, <span class="keywordtype">int</span> timeout_ms, <span class="keywordtype">void</span> * context);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a73b257e679d3b9810fb7d6d2758172aa">tc_iot_shadow_update</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c, <span class="keywordtype">char</span> * buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> * reported, <span class="keyword">const</span> <span class="keywordtype">char</span> * desired,</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="tc__iot__shadow_8h.html#a4fb08f88375041799f4b7054baa9f3f0">message_ack_handler</a> callback, <span class="keywordtype">int</span> timeout_ms, <span class="keywordtype">void</span> * session_context);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#abc2ee1edb589b34bc0bd955bb3259a10">tc_iot_shadow_delete</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c, <span class="keywordtype">char</span> * buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> * reported, <span class="keyword">const</span> <span class="keywordtype">char</span> * desired,</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="tc__iot__shadow_8h.html#a4fb08f88375041799f4b7054baa9f3f0">message_ack_handler</a> callback, <span class="keywordtype">int</span> timeout_ms, <span class="keywordtype">void</span> * session_context);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a1ae3a341a5570e9cda5f28562cb6cc5a">tc_iot_shadow_doc_pack_for_get_with_sid</a>(<span class="keywordtype">char</span> *buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                                    <span class="keywordtype">char</span> * session_id, <span class="keywordtype">int</span> session_id_len,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                                    <a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a47f7a84cf7f52ec18b41ee80fb1cc7af">tc_iot_shadow_doc_pack_for_update_with_sid</a>(<span class="keywordtype">char</span> *buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                    <span class="keywordtype">char</span> * session_id, <span class="keywordtype">int</span> session_id_len,</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                    <span class="keyword">const</span> <span class="keywordtype">char</span> * reported, <span class="keyword">const</span> <span class="keywordtype">char</span> * desired,</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                    <a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c) ;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a5c0d5f5b1ab33e2cde40f51c46fb0b6e">tc_iot_shadow_doc_pack_for_delete_with_sid</a>(<span class="keywordtype">char</span> *buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                    <span class="keywordtype">char</span> * session_id, <span class="keywordtype">int</span> session_id_len,</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                    <span class="keyword">const</span> <span class="keywordtype">char</span> * reported, <span class="keyword">const</span> <span class="keywordtype">char</span> * desired,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                    <a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c) ;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a7644003ff16f5787bb521ed1317b0cef">tc_iot_shadow_doc_pack_start</a>(<span class="keywordtype">char</span> *buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                                 <span class="keywordtype">char</span> * session_id, <span class="keywordtype">int</span> session_id_len,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">char</span> * method,</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                 <a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a1eb7cea0387a2f60fc574b16059c3c72">tc_iot_shadow_doc_pack_format</a>(<span class="keywordtype">char</span> *buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> * reported,</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> * desired);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#ad05d4c5ad02db77ef6a0465c3fc816cc">tc_iot_shadow_doc_pack_end</a>(<span class="keywordtype">char</span> *buffer, <span class="keywordtype">int</span> buffer_len, <a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a8a583b8c99f82d70d98c47198f2880e9">tc_iot_shadow_update_state</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c, <span class="keywordtype">char</span> * buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="tc__iot__shadow_8h.html#a4fb08f88375041799f4b7054baa9f3f0">message_ack_handler</a> callback, <span class="keywordtype">int</span> timeout_ms, <span class="keywordtype">void</span> * session_context,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span> * state_name, <span class="keywordtype">int</span> count, va_list p_args);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a4aae24ec1a32f49d928154e0808c20e4">tc_iot_shadow_update_firm_info</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c, <span class="keywordtype">char</span> * buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="tc__iot__shadow_8h.html#a4fb08f88375041799f4b7054baa9f3f0">message_ack_handler</a> callback, <span class="keywordtype">int</span> timeout_ms, <span class="keywordtype">void</span> * session_context,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;         va_list p_args);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<a class="code" href="struct__tc__iot__shadow__session.html">tc_iot_shadow_session</a> * <a class="code" href="tc__iot__shadow_8h.html#ac5fe0691acad6169e6145be24a2646be">tc_iot_find_empty_session</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tc__iot__shadow_8h.html#a74b963a646616436a2ce01ad9ffb0054">tc_iot_release_session</a>(<a class="code" href="struct__tc__iot__shadow__session.html">tc_iot_shadow_session</a> * p_session);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tc__iot__shadow_8h.html#ab4e99d480baf1dc61c740f8e7c5aa811">tc_iot_device_on_message_received</a>(<a class="code" href="struct__tc__iot__message__data.html">tc_iot_message_data</a>* md);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tc__iot__shadow_8h.html#abb76b238e7b5e66aeb35852f87ff2b3a">_device_on_message_received</a>(<a class="code" href="struct__tc__iot__message__data.html">tc_iot_message_data</a>* md);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#ab51ab1372e05d4c0e21e5cd856fe8cca">_tc_iot_sync_shadow_property</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * p_shadow_client,</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordtype">int</span> property_total, <a class="code" href="struct__tc__iot__shadow__property__def.html">tc_iot_shadow_property_def</a> * properties, <span class="keywordtype">bool</span> reported,</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> * doc_start, jsmntok_t * json_token, <span class="keywordtype">int</span> tok_count);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#ad051db15ea9334a85bd801862ec363ce">tc_iot_shadow_doc_parse</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * p_shadow_client,</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> * payload, jsmntok_t * json_token, <span class="keywordtype">int</span> token_count, <span class="keywordtype">char</span> * field_buf, <span class="keywordtype">int</span> field_buf_len);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a4f495dd759209819d136a1fb52841c97">tc_iot_shadow_event_notify</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * p_shadow_client, <a class="code" href="tc__iot__const_8h.html#a426550fc531ec432bd56c48370e0282b">tc_iot_event_e</a> event, <span class="keywordtype">void</span> * data, <span class="keywordtype">void</span> * context);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a1927fb75b956ca4cbba0a5fc33102e33">tc_iot_shadow_cmp_local</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * c, <span class="keywordtype">int</span> property_id, <span class="keywordtype">void</span> * src, <span class="keywordtype">void</span> * dest);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a8ddd629f25550bc55d540b3e71cb1f37">tc_iot_shadow_cmp_local_with_reported</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * c, <span class="keywordtype">int</span> property_id);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#af13b74cef616b1c468fc7c173f0b6798">tc_iot_shadow_cmp_local_with_desired</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * c, <span class="keywordtype">int</span> property_id);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="keywordtype">void</span> * <a class="code" href="tc__iot__shadow_8h.html#afd7ecfda73aa5d38d417384ea354c60e">tc_iot_shadow_save_to_cached</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * c, <span class="keywordtype">int</span> property_id, <span class="keyword">const</span> <span class="keywordtype">void</span> * p_data, <span class="keywordtype">void</span> * p_cache);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#abb603c7cfe20de12bfbd8c1db93cc548">tc_iot_shadow_report_property</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * c, <span class="keywordtype">int</span> property_id, <span class="keywordtype">char</span> * buffer, <span class="keywordtype">int</span> buffer_len);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a071e14febb2fea4f3e7428ecc175b0bf">tc_iot_shadow_check_and_report</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> *c, <span class="keywordtype">char</span> * buffer, <span class="keywordtype">int</span> buffer_len,</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <a class="code" href="tc__iot__shadow_8h.html#a4fb08f88375041799f4b7054baa9f3f0">message_ack_handler</a> callback, <span class="keywordtype">int</span> timeout_ms, <span class="keywordtype">void</span> * session_context, <span class="keywordtype">bool</span> do_confirm);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<a class="code" href="struct__tc__iot__shadow__property__def.html">tc_iot_shadow_property_def</a> * <a class="code" href="tc__iot__shadow_8h.html#a007f9596c82eb93896a838417f3df01d">tc_iot_shadow_get_property_def</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * p_shadow_client, <span class="keywordtype">int</span> property_id);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="tc__iot__shadow_8h.html#a74ba38e9ca6d6bcb07e1ef90c3f67a1d">tc_iot_shadow_get_property_name</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * p_shadow_client, <span class="keywordtype">int</span> property_id);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a3af6ac91b682d9e104836a0e0afc1a3d">tc_iot_shadow_get_property_type</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * p_shadow_client, <span class="keywordtype">int</span> property_id);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a30c593263d6af026fa0639d682963631">tc_iot_shadow_get_property_offset</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a> * p_shadow_client, <span class="keywordtype">int</span> property_id);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a3cbc74d68b2288180180df1c7c09d76f">tc_iot_report_firm</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a>* p_shadow_client, ...);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#a9f98e70812afbe8f44dadb3201227580">tc_iot_report_device_data</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a>* p_shadow_client);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#ac19ed60474eda4cb0aa71f5502702674">tc_iot_server_init</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a>* p_shadow_client, <a class="code" href="struct__tc__iot__shadow__config.html">tc_iot_shadow_config</a> * p_client_config);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#acb1e29725d6bf7b8dd0cce6a13570958">tc_iot_server_loop</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a>* p_shadow_client, <span class="keywordtype">int</span> yield_timeout);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tc__iot__shadow_8h.html#aa9ac071176fa16739d07b3ab20fa3e7b">tc_iot_server_destroy</a>(<a class="code" href="struct__tc__iot__shadow__client.html">tc_iot_shadow_client</a>* p_shadow_client);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* end of include guard */</span><span class="preprocessor"></span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="ttc" id="tc__iot__shadow_8h_html_ab4e99d480baf1dc61c740f8e7c5aa811"><div class="ttname"><a href="tc__iot__shadow_8h.html#ab4e99d480baf1dc61c740f8e7c5aa811">tc_iot_device_on_message_received</a></div><div class="ttdeci">void tc_iot_device_on_message_received(tc_iot_message_data *md)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_af13b74cef616b1c468fc7c173f0b6798"><div class="ttname"><a href="tc__iot__shadow_8h.html#af13b74cef616b1c468fc7c173f0b6798">tc_iot_shadow_cmp_local_with_desired</a></div><div class="ttdeci">int tc_iot_shadow_cmp_local_with_desired(tc_iot_shadow_client *c, int property_id)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a3cbc74d68b2288180180df1c7c09d76f"><div class="ttname"><a href="tc__iot__shadow_8h.html#a3cbc74d68b2288180180df1c7c09d76f">tc_iot_report_firm</a></div><div class="ttdeci">int tc_iot_report_firm(tc_iot_shadow_client *p_shadow_client,...)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a47f7a84cf7f52ec18b41ee80fb1cc7af"><div class="ttname"><a href="tc__iot__shadow_8h.html#a47f7a84cf7f52ec18b41ee80fb1cc7af">tc_iot_shadow_doc_pack_for_update_with_sid</a></div><div class="ttdeci">int tc_iot_shadow_doc_pack_for_update_with_sid(char *buffer, int buffer_len, char *session_id, int session_id_len, const char *reported, const char *desired, tc_iot_shadow_client *c)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a8a583b8c99f82d70d98c47198f2880e9"><div class="ttname"><a href="tc__iot__shadow_8h.html#a8a583b8c99f82d70d98c47198f2880e9">tc_iot_shadow_update_state</a></div><div class="ttdeci">int tc_iot_shadow_update_state(tc_iot_shadow_client *c, char *buffer, int buffer_len, message_ack_handler callback, int timeout_ms, void *session_context, const char *state_name, int count, va_list p_args)</div></div>
<div class="ttc" id="struct__tc__iot__shadow__config_html_ad6105cbe556d04ce5994f33bba729104"><div class="ttname"><a href="struct__tc__iot__shadow__config.html#ad6105cbe556d04ce5994f33bba729104">_tc_iot_shadow_config::mqtt_client_config</a></div><div class="ttdeci">tc_iot_mqtt_client_config mqtt_client_config</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:30</div></div>
<div class="ttc" id="struct__tc__iot__shadow__config_html_af504e906f279fdffc058d2910cbed50c"><div class="ttname"><a href="struct__tc__iot__shadow__config.html#af504e906f279fdffc058d2910cbed50c">_tc_iot_shadow_config::p_desired_device_data</a></div><div class="ttdeci">void * p_desired_device_data</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:39</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_acfeee5865fa73359d0bed9fe872bfac9a5a16f030ed148607cdaccf9bd4ac937c"><div class="ttname"><a href="tc__iot__shadow_8h.html#acfeee5865fa73359d0bed9fe872bfac9a5a16f030ed148607cdaccf9bd4ac937c">TC_IOT_ACK_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:44</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a3af6ac91b682d9e104836a0e0afc1a3d"><div class="ttname"><a href="tc__iot__shadow_8h.html#a3af6ac91b682d9e104836a0e0afc1a3d">tc_iot_shadow_get_property_type</a></div><div class="ttdeci">int tc_iot_shadow_get_property_type(tc_iot_shadow_client *p_shadow_client, int property_id)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a1eb7cea0387a2f60fc574b16059c3c72"><div class="ttname"><a href="tc__iot__shadow_8h.html#a1eb7cea0387a2f60fc574b16059c3c72">tc_iot_shadow_doc_pack_format</a></div><div class="ttdeci">int tc_iot_shadow_doc_pack_format(char *buffer, int buffer_len, const char *reported, const char *desired)</div></div>
<div class="ttc" id="struct__tc__iot__shadow__property__def_html_aa8341791b61a66eb1d87895b2bcaa57b"><div class="ttname"><a href="struct__tc__iot__shadow__property__def.html#aa8341791b61a66eb1d87895b2bcaa57b">_tc_iot_shadow_property_def::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:19</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_abb76b238e7b5e66aeb35852f87ff2b3a"><div class="ttname"><a href="tc__iot__shadow_8h.html#abb76b238e7b5e66aeb35852f87ff2b3a">_device_on_message_received</a></div><div class="ttdeci">void _device_on_message_received(tc_iot_message_data *md)</div></div>
<div class="ttc" id="struct__tc__iot__shadow__config_html"><div class="ttname"><a href="struct__tc__iot__shadow__config.html">_tc_iot_shadow_config</a></div><div class="ttdoc">影子设备配置 </div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:29</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ad051db15ea9334a85bd801862ec363ce"><div class="ttname"><a href="tc__iot__shadow_8h.html#ad051db15ea9334a85bd801862ec363ce">tc_iot_shadow_doc_parse</a></div><div class="ttdeci">int tc_iot_shadow_doc_parse(tc_iot_shadow_client *p_shadow_client, const char *payload, jsmntok_t *json_token, int token_count, char *field_buf, int field_buf_len)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ac83dd9b4441cf0f71794811516d8b1df"><div class="ttname"><a href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1df">_tc_iot_shadow_data_type_e</a></div><div class="ttdeci">_tc_iot_shadow_data_type_e</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:11</div></div>
<div class="ttc" id="struct__tc__iot__shadow__client_html"><div class="ttname"><a href="struct__tc__iot__shadow__client.html">_tc_iot_shadow_client</a></div><div class="ttdoc">影子设备客户端 </div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:64</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a1ae3a341a5570e9cda5f28562cb6cc5a"><div class="ttname"><a href="tc__iot__shadow_8h.html#a1ae3a341a5570e9cda5f28562cb6cc5a">tc_iot_shadow_doc_pack_for_get_with_sid</a></div><div class="ttdeci">int tc_iot_shadow_doc_pack_for_get_with_sid(char *buffer, int buffer_len, char *session_id, int session_id_len, tc_iot_shadow_client *c)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_acb1e29725d6bf7b8dd0cce6a13570958"><div class="ttname"><a href="tc__iot__shadow_8h.html#acb1e29725d6bf7b8dd0cce6a13570958">tc_iot_server_loop</a></div><div class="ttdeci">int tc_iot_server_loop(tc_iot_shadow_client *p_shadow_client, int yield_timeout)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a74b963a646616436a2ce01ad9ffb0054"><div class="ttname"><a href="tc__iot__shadow_8h.html#a74b963a646616436a2ce01ad9ffb0054">tc_iot_release_session</a></div><div class="ttdeci">void tc_iot_release_session(tc_iot_shadow_session *p_session)</div></div>
<div class="ttc" id="struct__tc__iot__shadow__property__def_html"><div class="ttname"><a href="struct__tc__iot__shadow__property__def.html">_tc_iot_shadow_property_def</a></div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:18</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_af1417b96ca0cac6690b7bbb9675e38e7"><div class="ttname"><a href="tc__iot__shadow_8h.html#af1417b96ca0cac6690b7bbb9675e38e7">tc_iot_shadow_construct</a></div><div class="ttdeci">int tc_iot_shadow_construct(tc_iot_shadow_client *p_shadow_client, tc_iot_shadow_config *p_config)</div><div class="ttdoc">tc_iot_shadow_construct 构造设备影子对象 </div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ac83dd9b4441cf0f71794811516d8b1dfadced4d8e532ba4e097a983cfbb7652d8"><div class="ttname"><a href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfadced4d8e532ba4e097a983cfbb7652d8">TC_IOT_SHADOW_TYPE_BOOL</a></div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:13</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_afd32bc980a0344268f1aea22166eae75"><div class="ttname"><a href="tc__iot__shadow_8h.html#afd32bc980a0344268f1aea22166eae75">tc_iot_shadow_data_type_e</a></div><div class="ttdeci">enum _tc_iot_shadow_data_type_e tc_iot_shadow_data_type_e</div></div>
<div class="ttc" id="tc__iot__config_8h_html_a4628381046de3d9e16d9a27b627eda73"><div class="ttname"><a href="tc__iot__config_8h.html#a4628381046de3d9e16d9a27b627eda73">TC_IOT_MAX_MQTT_TOPIC_LEN</a></div><div class="ttdeci">#define TC_IOT_MAX_MQTT_TOPIC_LEN</div><div class="ttdef"><b>Definition:</b> tc_iot_config.h:32</div></div>
<div class="ttc" id="struct__tc__iot__shadow__client_html_a0b3c6bdcb058a5980a0445e3d334d5dd"><div class="ttname"><a href="struct__tc__iot__shadow__client.html#a0b3c6bdcb058a5980a0445e3d334d5dd">_tc_iot_shadow_client::p_shadow_config</a></div><div class="ttdeci">tc_iot_shadow_config * p_shadow_config</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:65</div></div>
<div class="ttc" id="tc__iot__mqtt_8h_html_adc1265ae64dab46c36579d229d0eb11a"><div class="ttname"><a href="tc__iot__mqtt_8h.html#adc1265ae64dab46c36579d229d0eb11a">message_handler</a></div><div class="ttdeci">void(* message_handler)(tc_iot_message_data *)</div><div class="ttdef"><b>Definition:</b> tc_iot_mqtt.h:89</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a8ddd629f25550bc55d540b3e71cb1f37"><div class="ttname"><a href="tc__iot__shadow_8h.html#a8ddd629f25550bc55d540b3e71cb1f37">tc_iot_shadow_cmp_local_with_reported</a></div><div class="ttdeci">int tc_iot_shadow_cmp_local_with_reported(tc_iot_shadow_client *c, int property_id)</div></div>
<div class="ttc" id="tc__iot__const_8h_html_a547039c0f365d991e39fc16d143b2cbd"><div class="ttname"><a href="tc__iot__const_8h.html#a547039c0f365d991e39fc16d143b2cbd">tc_iot_event_handler</a></div><div class="ttdeci">int(* tc_iot_event_handler)(tc_iot_event_message *msg, void *client, void *context)</div><div class="ttdoc">tc_iot_event_handler 通用事件回调原型 </div><div class="ttdef"><b>Definition:</b> tc_iot_const.h:104</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_acfeee5865fa73359d0bed9fe872bfac9a8eca140d55528ba9ff4f6948ed8397c8"><div class="ttname"><a href="tc__iot__shadow_8h.html#acfeee5865fa73359d0bed9fe872bfac9a8eca140d55528ba9ff4f6948ed8397c8">TC_IOT_ACK_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:43</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a7644003ff16f5787bb521ed1317b0cef"><div class="ttname"><a href="tc__iot__shadow_8h.html#a7644003ff16f5787bb521ed1317b0cef">tc_iot_shadow_doc_pack_start</a></div><div class="ttdeci">int tc_iot_shadow_doc_pack_start(char *buffer, int buffer_len, char *session_id, int session_id_len, const char *method, tc_iot_shadow_client *c)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a5c0d5f5b1ab33e2cde40f51c46fb0b6e"><div class="ttname"><a href="tc__iot__shadow_8h.html#a5c0d5f5b1ab33e2cde40f51c46fb0b6e">tc_iot_shadow_doc_pack_for_delete_with_sid</a></div><div class="ttdeci">int tc_iot_shadow_doc_pack_for_delete_with_sid(char *buffer, int buffer_len, char *session_id, int session_id_len, const char *reported, const char *desired, tc_iot_shadow_client *c)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a9757496b3a760b51f90c6f016d0775d5"><div class="ttname"><a href="tc__iot__shadow_8h.html#a9757496b3a760b51f90c6f016d0775d5">tc_iot_shadow_destroy</a></div><div class="ttdeci">void tc_iot_shadow_destroy(tc_iot_shadow_client *p_shadow_client)</div><div class="ttdoc">tc_iot_shadow_destroy 关闭 Shadow client 连接，并销毁 Shadow client </div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_acfeee5865fa73359d0bed9fe872bfac9"><div class="ttname"><a href="tc__iot__shadow_8h.html#acfeee5865fa73359d0bed9fe872bfac9">_tc_iot_command_ack_status_e</a></div><div class="ttdeci">_tc_iot_command_ack_status_e</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:42</div></div>
<div class="ttc" id="struct__tc__iot__shadow__config_html_aa1ec2ba96a33bf4cbb4670e98e7660c0"><div class="ttname"><a href="struct__tc__iot__shadow__config.html#aa1ec2ba96a33bf4cbb4670e98e7660c0">_tc_iot_shadow_config::p_reported_device_data</a></div><div class="ttdeci">void * p_reported_device_data</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:38</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_abc2ee1edb589b34bc0bd955bb3259a10"><div class="ttname"><a href="tc__iot__shadow_8h.html#abc2ee1edb589b34bc0bd955bb3259a10">tc_iot_shadow_delete</a></div><div class="ttdeci">int tc_iot_shadow_delete(tc_iot_shadow_client *c, char *buffer, int buffer_len, const char *reported, const char *desired, message_ack_handler callback, int timeout_ms, void *session_context)</div><div class="ttdoc">tc_iot_shadow_delete 删除设备属性。 </div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a73b257e679d3b9810fb7d6d2758172aa"><div class="ttname"><a href="tc__iot__shadow_8h.html#a73b257e679d3b9810fb7d6d2758172aa">tc_iot_shadow_update</a></div><div class="ttdeci">int tc_iot_shadow_update(tc_iot_shadow_client *c, char *buffer, int buffer_len, const char *reported, const char *desired, message_ack_handler callback, int timeout_ms, void *session_context)</div><div class="ttdoc">tc_iot_shadow_update 异步方式更新设备影子文档 </div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a11879c96b587d9a33e88eaf4df1e1fcc"><div class="ttname"><a href="tc__iot__shadow_8h.html#a11879c96b587d9a33e88eaf4df1e1fcc">TC_IOT_SESSION_ID_LEN</a></div><div class="ttdeci">#define TC_IOT_SESSION_ID_LEN</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:50</div></div>
<div class="ttc" id="struct__tc__iot__shadow__property__def_html_a0af0203db2f26ef35fcf18476bd4ba8b"><div class="ttname"><a href="struct__tc__iot__shadow__property__def.html#a0af0203db2f26ef35fcf18476bd4ba8b">_tc_iot_shadow_property_def::type</a></div><div class="ttdeci">tc_iot_shadow_data_type_e type</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:21</div></div>
<div class="ttc" id="struct__tc__iot__shadow__session_html_a75b111b6cccd06d4552733682ac0faef"><div class="ttname"><a href="struct__tc__iot__shadow__session.html#a75b111b6cccd06d4552733682ac0faef">_tc_iot_shadow_session::timer</a></div><div class="ttdeci">tc_iot_timer timer</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:55</div></div>
<div class="ttc" id="struct__tc__iot__shadow__client_html_a0c23ec93eb9f4bc13f8d821effcf3d8a"><div class="ttname"><a href="struct__tc__iot__shadow__client.html#a0c23ec93eb9f4bc13f8d821effcf3d8a">_tc_iot_shadow_client::mqtt_client</a></div><div class="ttdeci">tc_iot_mqtt_client mqtt_client</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:66</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ad196579026e904f1554533e10f67e3e6"><div class="ttname"><a href="tc__iot__shadow_8h.html#ad196579026e904f1554533e10f67e3e6">tc_iot_shadow_property_def</a></div><div class="ttdeci">struct _tc_iot_shadow_property_def tc_iot_shadow_property_def</div></div>
<div class="ttc" id="structtc__iot__timer_html"><div class="ttname"><a href="structtc__iot__timer.html">tc_iot_timer</a></div><div class="ttdef"><b>Definition:</b> tc_iot_platform.h:21</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a007f9596c82eb93896a838417f3df01d"><div class="ttname"><a href="tc__iot__shadow_8h.html#a007f9596c82eb93896a838417f3df01d">tc_iot_shadow_get_property_def</a></div><div class="ttdeci">tc_iot_shadow_property_def * tc_iot_shadow_get_property_def(tc_iot_shadow_client *p_shadow_client, int property_id)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a9f3cbc1c0153067b82a801e719b76c98"><div class="ttname"><a href="tc__iot__shadow_8h.html#a9f3cbc1c0153067b82a801e719b76c98">tc_iot_shadow_enum</a></div><div class="ttdeci">int tc_iot_shadow_enum</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:8</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a1946bf5c5aafe5e951d6ba01280f7f14"><div class="ttname"><a href="tc__iot__shadow_8h.html#a1946bf5c5aafe5e951d6ba01280f7f14">TC_IOT_MAX_SESSION_COUNT</a></div><div class="ttdeci">#define TC_IOT_MAX_SESSION_COUNT</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:51</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a807a86632af0db9d89c1c9d19ed19f98"><div class="ttname"><a href="tc__iot__shadow_8h.html#a807a86632af0db9d89c1c9d19ed19f98">tc_iot_shadow_session</a></div><div class="ttdeci">struct _tc_iot_shadow_session tc_iot_shadow_session</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ac83dd9b4441cf0f71794811516d8b1dfa0257cc6936827400b3a35666c15917ca"><div class="ttname"><a href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfa0257cc6936827400b3a35666c15917ca">TC_IOT_SHADOW_TYPE_INVALID</a></div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:12</div></div>
<div class="ttc" id="struct__tc__iot__shadow__session_html_aa8c99d539768b1ba1b23173f53eb854e"><div class="ttname"><a href="struct__tc__iot__shadow__session.html#aa8c99d539768b1ba1b23173f53eb854e">_tc_iot_shadow_session::session_context</a></div><div class="ttdeci">void * session_context</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:57</div></div>
<div class="ttc" id="struct__tc__iot__shadow__property__def_html_a09bdd1ab9615dcb662e9e77265fe93d0"><div class="ttname"><a href="struct__tc__iot__shadow__property__def.html#a09bdd1ab9615dcb662e9e77265fe93d0">_tc_iot_shadow_property_def::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:20</div></div>
<div class="ttc" id="struct__tc__iot__shadow__session_html_a7a6f47a02afa76ddbd8a26f85244f1d7"><div class="ttname"><a href="struct__tc__iot__shadow__session.html#a7a6f47a02afa76ddbd8a26f85244f1d7">_tc_iot_shadow_session::handler</a></div><div class="ttdeci">message_ack_handler handler</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:56</div></div>
<div class="ttc" id="struct__tc__iot__shadow__config_html_a5656b3dcf961f7fd5f4ce3305f9cf960"><div class="ttname"><a href="struct__tc__iot__shadow__config.html#a5656b3dcf961f7fd5f4ce3305f9cf960">_tc_iot_shadow_config::p_current_device_data</a></div><div class="ttdeci">void * p_current_device_data</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:37</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a30c593263d6af026fa0639d682963631"><div class="ttname"><a href="tc__iot__shadow_8h.html#a30c593263d6af026fa0639d682963631">tc_iot_shadow_get_property_offset</a></div><div class="ttdeci">int tc_iot_shadow_get_property_offset(tc_iot_shadow_client *p_shadow_client, int property_id)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ace0920527c08ac4bd1afc40902b639b1"><div class="ttname"><a href="tc__iot__shadow_8h.html#ace0920527c08ac4bd1afc40902b639b1">tc_iot_shadow_doc_pack_for_delete</a></div><div class="ttdeci">int tc_iot_shadow_doc_pack_for_delete(char *buffer, int buffer_len, tc_iot_shadow_client *c, const char *reported, const char *desired)</div><div class="ttdoc">tc_iot_shadow_doc_pack_for_delete 生成影子设备删除文档或属性请求包 </div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a4fb08f88375041799f4b7054baa9f3f0"><div class="ttname"><a href="tc__iot__shadow_8h.html#a4fb08f88375041799f4b7054baa9f3f0">message_ack_handler</a></div><div class="ttdeci">void(* message_ack_handler)(tc_iot_command_ack_status_e ack_status, tc_iot_message_data *md, void *session_context)</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:47</div></div>
<div class="ttc" id="struct__tc__iot__shadow__config_html_ae03933c4ff91ba0141da18e4bb07c209"><div class="ttname"><a href="struct__tc__iot__shadow__config.html#ae03933c4ff91ba0141da18e4bb07c209">_tc_iot_shadow_config::on_receive_msg</a></div><div class="ttdeci">message_handler on_receive_msg</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:33</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_aa9ac071176fa16739d07b3ab20fa3e7b"><div class="ttname"><a href="tc__iot__shadow_8h.html#aa9ac071176fa16739d07b3ab20fa3e7b">tc_iot_server_destroy</a></div><div class="ttdeci">int tc_iot_server_destroy(tc_iot_shadow_client *p_shadow_client)</div></div>
<div class="ttc" id="struct__tc__iot__shadow__config_html_a30513eebf36377884ae51de2e62719c5"><div class="ttname"><a href="struct__tc__iot__shadow__config.html#a30513eebf36377884ae51de2e62719c5">_tc_iot_shadow_config::properties</a></div><div class="ttdeci">tc_iot_shadow_property_def * properties</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:35</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ac19ed60474eda4cb0aa71f5502702674"><div class="ttname"><a href="tc__iot__shadow_8h.html#ac19ed60474eda4cb0aa71f5502702674">tc_iot_server_init</a></div><div class="ttdeci">int tc_iot_server_init(tc_iot_shadow_client *p_shadow_client, tc_iot_shadow_config *p_client_config)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a9f98e70812afbe8f44dadb3201227580"><div class="ttname"><a href="tc__iot__shadow_8h.html#a9f98e70812afbe8f44dadb3201227580">tc_iot_report_device_data</a></div><div class="ttdeci">int tc_iot_report_device_data(tc_iot_shadow_client *p_shadow_client)</div></div>
<div class="ttc" id="struct__tc__iot__shadow__session_html"><div class="ttname"><a href="struct__tc__iot__shadow__session.html">_tc_iot_shadow_session</a></div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:53</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_af8ca40cb14122745d5296803ab439dc2"><div class="ttname"><a href="tc__iot__shadow_8h.html#af8ca40cb14122745d5296803ab439dc2">tc_iot_shadow_bool</a></div><div class="ttdeci">bool tc_iot_shadow_bool</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:9</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ac5fe0691acad6169e6145be24a2646be"><div class="ttname"><a href="tc__iot__shadow_8h.html#ac5fe0691acad6169e6145be24a2646be">tc_iot_find_empty_session</a></div><div class="ttdeci">tc_iot_shadow_session * tc_iot_find_empty_session(tc_iot_shadow_client *c)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_abecbf2e085de83f5d3e1ab43b9fe1124"><div class="ttname"><a href="tc__iot__shadow_8h.html#abecbf2e085de83f5d3e1ab43b9fe1124">tc_iot_shadow_doc_pack_for_update</a></div><div class="ttdeci">int tc_iot_shadow_doc_pack_for_update(char *buffer, int buffer_len, tc_iot_shadow_client *c, const char *reported, const char *desired)</div><div class="ttdoc">tc_iot_shadow_doc_pack_for_update 生成影子设备文档或属性上报请求包 </div></div>
<div class="ttc" id="struct__tc__iot__shadow__config_html_aa40b4b1e152f72a3a7a1032532c97d85"><div class="ttname"><a href="struct__tc__iot__shadow__config.html#aa40b4b1e152f72a3a7a1032532c97d85">_tc_iot_shadow_config::event_notify</a></div><div class="ttdeci">tc_iot_event_handler event_notify</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:36</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_af30863b8a7f2a2737384a199828e1871"><div class="ttname"><a href="tc__iot__shadow_8h.html#af30863b8a7f2a2737384a199828e1871">tc_iot_shadow_number</a></div><div class="ttdeci">int tc_iot_shadow_number</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:7</div></div>
<div class="ttc" id="struct__tc__iot__mqtt__client__config_html"><div class="ttname"><a href="struct__tc__iot__mqtt__client__config.html">_tc_iot_mqtt_client_config</a></div><div class="ttdoc">MQTT client 客户端配置 </div><div class="ttdef"><b>Definition:</b> tc_iot_mqtt.h:183</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a10038a9134368edf6bb9d34f3777ca5b"><div class="ttname"><a href="tc__iot__shadow_8h.html#a10038a9134368edf6bb9d34f3777ca5b">TC_IOT_MAX_PROPERTY_COUNT</a></div><div class="ttdeci">#define TC_IOT_MAX_PROPERTY_COUNT</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:4</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a4aae24ec1a32f49d928154e0808c20e4"><div class="ttname"><a href="tc__iot__shadow_8h.html#a4aae24ec1a32f49d928154e0808c20e4">tc_iot_shadow_update_firm_info</a></div><div class="ttdeci">int tc_iot_shadow_update_firm_info(tc_iot_shadow_client *c, char *buffer, int buffer_len, message_ack_handler callback, int timeout_ms, void *session_context, va_list p_args)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a4f495dd759209819d136a1fb52841c97"><div class="ttname"><a href="tc__iot__shadow_8h.html#a4f495dd759209819d136a1fb52841c97">tc_iot_shadow_event_notify</a></div><div class="ttdeci">int tc_iot_shadow_event_notify(tc_iot_shadow_client *p_shadow_client, tc_iot_event_e event, void *data, void *context)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a74ba38e9ca6d6bcb07e1ef90c3f67a1d"><div class="ttname"><a href="tc__iot__shadow_8h.html#a74ba38e9ca6d6bcb07e1ef90c3f67a1d">tc_iot_shadow_get_property_name</a></div><div class="ttdeci">const char * tc_iot_shadow_get_property_name(tc_iot_shadow_client *p_shadow_client, int property_id)</div></div>
<div class="ttc" id="struct__tc__iot__message__data_html"><div class="ttname"><a href="struct__tc__iot__message__data.html">_tc_iot_message_data</a></div><div class="ttdoc">接收到的订阅消息 </div><div class="ttdef"><b>Definition:</b> tc_iot_mqtt.h:65</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_afd7ecfda73aa5d38d417384ea354c60e"><div class="ttname"><a href="tc__iot__shadow_8h.html#afd7ecfda73aa5d38d417384ea354c60e">tc_iot_shadow_save_to_cached</a></div><div class="ttdeci">void * tc_iot_shadow_save_to_cached(tc_iot_shadow_client *c, int property_id, const void *p_data, void *p_cache)</div></div>
<div class="ttc" id="struct__tc__iot__shadow__property__def_html_a3cb2b90cfac0166151a10eda38f92057"><div class="ttname"><a href="struct__tc__iot__shadow__property__def.html#a3cb2b90cfac0166151a10eda38f92057">_tc_iot_shadow_property_def::offset</a></div><div class="ttdeci">int offset</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:22</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_abeaa44d1454f9c9cde5f43fc3576412e"><div class="ttname"><a href="tc__iot__shadow_8h.html#abeaa44d1454f9c9cde5f43fc3576412e">tc_iot_shadow_yield</a></div><div class="ttdeci">int tc_iot_shadow_yield(tc_iot_shadow_client *p_shadow_client, int timeout_ms)</div><div class="ttdoc">tc_iot_shadow_yield 在当前线程为底层服务，让出一定 CPU 执 行时间 </div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a4d31b2454a8541d0f3fa8613315837f7"><div class="ttname"><a href="tc__iot__shadow_8h.html#a4d31b2454a8541d0f3fa8613315837f7">tc_iot_command_ack_status_e</a></div><div class="ttdeci">enum _tc_iot_command_ack_status_e tc_iot_command_ack_status_e</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a1927fb75b956ca4cbba0a5fc33102e33"><div class="ttname"><a href="tc__iot__shadow_8h.html#a1927fb75b956ca4cbba0a5fc33102e33">tc_iot_shadow_cmp_local</a></div><div class="ttdeci">int tc_iot_shadow_cmp_local(tc_iot_shadow_client *c, int property_id, void *src, void *dest)</div></div>
<div class="ttc" id="struct__tc__iot__mqtt__client_html"><div class="ttname"><a href="struct__tc__iot__mqtt__client.html">_tc_iot_mqtt_client</a></div><div class="ttdoc">MQTT client 对象结构，保存 MQTT 客户端相关配置、连接状态、 回调处理、时延要求、收发缓存区等信息。 ...</div><div class="ttdef"><b>Definition:</b> tc_iot_mqtt.h:120</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_af3e8a1e44ca17e06a3138ae47d414cf9"><div class="ttname"><a href="tc__iot__shadow_8h.html#af3e8a1e44ca17e06a3138ae47d414cf9">tc_iot_shadow_get</a></div><div class="ttdeci">int tc_iot_shadow_get(tc_iot_shadow_client *c, char *buffer, int buffer_len, message_ack_handler callback, int timeout_ms, void *context)</div><div class="ttdoc">tc_iot_shadow_get 异步方式获取设备影子文档 </div></div>
<div class="ttc" id="struct__tc__iot__shadow__config_html_a69d589c7d5bb6f4bb3e0e07ad4adf64a"><div class="ttname"><a href="struct__tc__iot__shadow__config.html#a69d589c7d5bb6f4bb3e0e07ad4adf64a">_tc_iot_shadow_config::property_total</a></div><div class="ttdeci">int property_total</div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:34</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a071e14febb2fea4f3e7428ecc175b0bf"><div class="ttname"><a href="tc__iot__shadow_8h.html#a071e14febb2fea4f3e7428ecc175b0bf">tc_iot_shadow_check_and_report</a></div><div class="ttdeci">int tc_iot_shadow_check_and_report(tc_iot_shadow_client *c, char *buffer, int buffer_len, message_ack_handler callback, int timeout_ms, void *session_context, bool do_confirm)</div></div>
<div class="ttc" id="tc__iot__const_8h_html_a426550fc531ec432bd56c48370e0282b"><div class="ttname"><a href="tc__iot__const_8h.html#a426550fc531ec432bd56c48370e0282b">tc_iot_event_e</a></div><div class="ttdeci">enum _tc_iot_event_e tc_iot_event_e</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_abb603c7cfe20de12bfbd8c1db93cc548"><div class="ttname"><a href="tc__iot__shadow_8h.html#abb603c7cfe20de12bfbd8c1db93cc548">tc_iot_shadow_report_property</a></div><div class="ttdeci">int tc_iot_shadow_report_property(tc_iot_shadow_client *c, int property_id, char *buffer, int buffer_len)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a7a5c790b1b663fe048019dbb65ed93a2"><div class="ttname"><a href="tc__iot__shadow_8h.html#a7a5c790b1b663fe048019dbb65ed93a2">tc_iot_shadow_isconnected</a></div><div class="ttdeci">char tc_iot_shadow_isconnected(tc_iot_shadow_client *p_shadow_client)</div><div class="ttdoc">tc_iot_shadow_isconnected 判断设备影子对象，是否已成功连接服务器 </div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ac83dd9b4441cf0f71794811516d8b1dfa5f0ddbc356d2578286a93e7fde414426"><div class="ttname"><a href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfa5f0ddbc356d2578286a93e7fde414426">TC_IOT_SHADOW_TYPE_ENUM</a></div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:15</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ac83dd9b4441cf0f71794811516d8b1dfab0813d173069c215486cb17bb199fc53"><div class="ttname"><a href="tc__iot__shadow_8h.html#ac83dd9b4441cf0f71794811516d8b1dfab0813d173069c215486cb17bb199fc53">TC_IOT_SHADOW_TYPE_NUMBER</a></div><div class="ttdef"><b>Definition:</b> tc_iot_shadow.h:14</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a83a16bc5fc5ae019a28afe92e77a9b43"><div class="ttname"><a href="tc__iot__shadow_8h.html#a83a16bc5fc5ae019a28afe92e77a9b43">tc_iot_shadow_config</a></div><div class="ttdeci">struct _tc_iot_shadow_config tc_iot_shadow_config</div><div class="ttdoc">影子设备配置 </div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ab51ab1372e05d4c0e21e5cd856fe8cca"><div class="ttname"><a href="tc__iot__shadow_8h.html#ab51ab1372e05d4c0e21e5cd856fe8cca">_tc_iot_sync_shadow_property</a></div><div class="ttdeci">int _tc_iot_sync_shadow_property(tc_iot_shadow_client *p_shadow_client, int property_total, tc_iot_shadow_property_def *properties, bool reported, const char *doc_start, jsmntok_t *json_token, int tok_count)</div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_acd4137023aa1d1059b75fc2a31bb92c6"><div class="ttname"><a href="tc__iot__shadow_8h.html#acd4137023aa1d1059b75fc2a31bb92c6">tc_iot_shadow_client</a></div><div class="ttdeci">struct _tc_iot_shadow_client tc_iot_shadow_client</div><div class="ttdoc">影子设备客户端 </div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_a2fdb84d6d80406e1e000d36c4929deb1"><div class="ttname"><a href="tc__iot__shadow_8h.html#a2fdb84d6d80406e1e000d36c4929deb1">tc_iot_shadow_doc_pack_for_get</a></div><div class="ttdeci">int tc_iot_shadow_doc_pack_for_get(char *buffer, int buffer_len, tc_iot_shadow_client *c)</div><div class="ttdoc">tc_iot_shadow_doc_pack_for_get 构造 get 请求包，用于读取影子设备服务端数据。 </div></div>
<div class="ttc" id="tc__iot__shadow_8h_html_ad05d4c5ad02db77ef6a0465c3fc816cc"><div class="ttname"><a href="tc__iot__shadow_8h.html#ad05d4c5ad02db77ef6a0465c3fc816cc">tc_iot_shadow_doc_pack_end</a></div><div class="ttdeci">int tc_iot_shadow_doc_pack_end(char *buffer, int buffer_len, tc_iot_shadow_client *c)</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
